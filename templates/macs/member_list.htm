{% extends "macs/base.htm" %}

{% block content %}

<h1>Makerspace Members</h1>

<p>All members are listed here (including expired ones, for the moment - need to have an option to enable/disable expired).</p>

<ul>
  <li><a href="{% url 'macs.views.member_create' %}">Create a new member</a></li>
</ul>

{% if members %}
	<table class="fullwidth padded">
	<tr><th>Last Name</th><th>First Name</th><th>Type</th><th>Keycard(s)</th><th>Expires</th><th>&nbsp;</th></tr>
	{% for m in members %}
		<tr class="{% cycle 'odd' 'even' %}">
		   <td>{{ m.last_name }}</td><td>{{ m.first_name }}</td><td>{{ m.get_membership_type_display }}</td>
		   <td>{{ m.keycard_set.all|join:", "|default:"&nbsp;" }}</td><td>{{ m.expires }}</td>
		   <td><a href="{% url 'macs.views.member_view' m.id %}">details</a></td>
		   </tr>
	{% endfor %} 
	</table>

{% else %}
  <p class="note">No members yet.</p>
{% endif %}

{% endblock content %}
